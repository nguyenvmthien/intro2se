<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Account Type</title>
    <link rel="stylesheet" href="/css/change-type-create.css">
</head>
<body>
    <div class="container">
        <div class="form-row">
        <div class="type-group">
            <label for="savingsType">Type</label>
            <select class="form-control" id="savingsType">
                <option value="" disabled selected>Term/Non-term</option>
                <option value="non-term">Non-term</option>
                <option value="term">Term</option>
            </select>

        <div class="term-inputs" id="termInputs" style="display: none;">
            <label for="term-months">If term:</label>
            <input type="text" class="term" id="term-months" placeholder="3">
            <input type="text" class="term-months" id="months" placeholder="Months" disabled>
            <p id="termNotification" style="display: none; color: red;">It must be an integer</p>
        </div>
    </div>
    </div>

            <div class="input-container">
                <div class="input-group">
                    <label for="interest-rate">Interest rate (%)</label>
                    <input type="text" class="input-field" id="interest-rate" placeholder="0.15">
                    <p id="interestRateNotification" style="display: none; color: red;">It must be a number</p>
                </div>
                <div class="input-group">
                    <label for="min-deposit">Minimum deposit amount (VNĐ)</label>
                    <input type="text" class="input-field" id="min-deposit" placeholder="100,000">
                    <p id="minDepositNotification" style="display: none; color: red;">It must be a number</p>
                </div>
                <div class="input-group">
                    <label for="min-days">Minimum days to withdraw (days)</label>
                    <input type="text" class="input-field" id="min-days" placeholder="30">
                    <p id="minDaysNotification" style="display: none; color: red;">It must be an integer</p>
                </div>
            </div>

            <div class="time-container">
                <div class="date">
                    <label for="hourSelect">Applied time</label>
                    <select class="date-control" id="hourSelect">
                        <option value="" disabled selected>hour</option>
                        <!-- Các tùy chọn giờ -->
                         <option value="" disabled selected>hour</option>
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                    </select>
                </div>
                <div class="date">
                    <label for="minSelect"></label>
                    <select class="date-control" id="minSelect">
                        <option value="" disabled selected>Min</option>
                        <!-- Các tùy chọn phút -->
                        <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                            <option value="32">32</option>
                            <option value="33">33</option>
                            <option value="34">34</option>
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="37">37</option>
                            <option value="38">38</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                            <option value="47">47</option>
                            <option value="48">48</option>
                            <option value="49">49</option>
                            <option value="50">50</option>
                            <option value="51">51</option>
                            <option value="52">52</option>
                            <option value="53">53</option>
                            <option value="54">54</option>
                            <option value="55">55</option>
                            <option value="56">56</option>
                            <option value="57">57</option>
                            <option value="58">58</option>
                            <option value="59">59</option>
                    </select>
                </div>
                <div class="date">
                    <label for="app-date">Applied date</label>
                    <input type="date" class="date-control" id="app-date">
                </div>
            </div>
        <button type="submit" class="btn-primary" id="submit_button">Create</button>
    </div>
    <div class="popup" id="popup">
        <div class="popup-content" id="popup-content">
            <button class="popup-button submit-btn" id="submit">Submit</button>
            <button class="popup-button cancel-btn" id="cancel">Cancel</button>
        </div>
    </div>

    <div class="popup" id="successPopup">
        <div class="popup-content">
            Created Successfully
            <button class="popup-button submit-btn" id="closeSuccessPopup">OK</button>
        </div>
    </div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const termInputs = document.getElementById("termInputs");
        const termMonths = document.getElementById("term-months");
        const termNotification = document.getElementById("termNotification");
        
        const interestRateInput = document.getElementById("interest-rate");
        const interestRateNotification = document.getElementById("interestRateNotification");
        
        const minDepositInput = document.getElementById("min-deposit");
        const minDepositNotification = document.getElementById("minDepositNotification");
        
        const minDaysInput = document.getElementById("min-days");
        const minDaysNotification = document.getElementById("minDaysNotification");

        // Show or hide term inputs based on savings type
        document.getElementById("savingsType").addEventListener("change", function() {
            const savingsType = document.getElementById("savingsType").value;
            termInputs.style.display = savingsType == "term" ? "flex" : "none";
        });

        // Real-time validation for term months input
        termMonths.addEventListener("input", function() {
            const value = termMonths.value;
            if (isNaN(value) || !Number.isInteger(Number(value))) {
                termNotification.style.display = "flex";
                termNotification.textContent = "It must be an integer";
            } else {
                termNotification.style.display = "none";
            }
        });

        // Real-time validation for interest rate
        interestRateInput.addEventListener("input", function() {
            const value = interestRateInput.value;
            if (isNaN(value) || value === "") {
                interestRateNotification.style.display = "flex";
                interestRateNotification.textContent = "It must be a number";
            } else {
                interestRateNotification.style.display = "none";
            }
        });

        // Real-time validation for minimum deposit
        minDepositInput.addEventListener("input", function() {
            const value = minDepositInput.value;
            if (isNaN(value) || value === "") {
                minDepositNotification.style.display = "flex";
                minDepositNotification.textContent = "It must be a number";
            } else {
                minDepositNotification.style.display = "none";
            }
        });

        // Real-time validation for minimum days
        minDaysInput.addEventListener("input", function() {
            const value = minDaysInput.value;
            if (isNaN(value) || !Number.isInteger(Number(value))) {
                minDaysNotification.style.display = "flex";
                minDaysNotification.textContent = "It must be an integer";
            } else {
                minDaysNotification.style.display = "none";
            }
        });

        document.getElementById("submit_button").addEventListener("click", function(event) {
            event.preventDefault(); // Prevent form from submitting

            const savingsType = document.getElementById("savingsType").value;
            const interestRate = document.getElementById("interest-rate").value;
            const minDeposit = document.getElementById("min-deposit").value;
            const minDays = document.getElementById("min-days").value;
            const hour = document.getElementById("hourSelect").value;
            const minute = document.getElementById("minSelect").value;
            const date = document.getElementById("app-date").value;

            let isValid = true;

            if (savingsType === "term") {
                const termMonths = termMonths.value;
                if (isNaN(termMonths) || !Number.isInteger(Number(termMonths))) {
                    termNotification.style.display = "flex";
                    isValid = false;
                } else {
                    termNotification.style.display = "none";
                }
            }

            if (isNaN(interestRate) || interestRate === "") {
                interestRateNotification.style.display = "flex";
                isValid = false;
            } else {
                interestRateNotification.style.display = "none";
            }

            if (isNaN(minDeposit) || minDeposit === "") {
                minDepositNotification.style.display = "flex";
                isValid = false;
            } else {
                minDepositNotification.style.display = "none";
            }

            if (isNaN(minDays) || !Number.isInteger(Number(minDays))) {
                minDaysNotification.style.display = "flex";
                isValid = false;
            } else {
                minDaysNotification.style.display = "none";
            }

            if (!isValid) {
                alert("You have to meet all of the requirements");
                return;
            }

            if (savingsType === "" || interestRate === "" || minDeposit === "" || minDays === "" || hour === "" || minute === "" || date === "") {
                alert("You have to fill out all of the information to submit");
                return;
            }

            // Pop-up content
            const popupContent = `
                <p>Type of savings: ${savingsType}</p>
                <p>Interest rate: ${interestRate}%</p>
                <p>Minimum deposit amount: ${minDeposit} VNĐ</p>
                <p>Minimum days to withdraw: ${minDays} days</p>
                <p>Applied time: ${hour}h ${minute}</p>
                <p>Applied date: ${date}</p>
                <div class="popup-buttons">
                    <button class="popup-button submit-btn" id="confirmSubmit">Submit</button>
                    <button class="popup-button cancel-btn" id="cancelSubmit">Cancel</button>
                </div>
            `;

            const popup = document.getElementById("popup");
            const popupContentContainer = document.getElementById("popup-content");
            popupContentContainer.innerHTML = popupContent;
            popup.style.display = "flex";

            document.getElementById("cancelSubmit").addEventListener("click", function() {
                popupContentContainer.innerHTML = "";
                popup.style.display = "none";
            });

            document.getElementById("confirmSubmit").addEventListener("click", function() {
                popup.style.display = "none";
                document.getElementById("successPopup").style.display = "flex";
            });

            document.getElementById("closeSuccessPopup").addEventListener("click", function() {
                document.getElementById("successPopup").style.display = "none";
            });
        });
    });
</script>
</html>
